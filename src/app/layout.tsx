// ì„œë²„ ì»´í¬ë„ŒíŠ¸ëŠ” ì•„ë˜ì™€ ê°™ì€ ê²½ìš°ì— ì‚¬ìš©í•©ë‹ˆë‹¤. âœ¨
// - ì‚¬ìš©ìì™€ ìƒí˜¸ì‘ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš°
// - ë°±ì—”ë“œì— ì—‘ì„¸ìŠ¤í•˜ë©´ì„œ ë³´ì•ˆì ìœ¼ë¡œ ìœ„í—˜í•œ ì •ë³´ë¥¼ ì£¼ê³  ë°›ëŠ” ê²½ìš°

// í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ëŠ” ì•„ë˜ì™€ ê°™ì€ ê²½ìš° ì‚¬ìš©í•©ë‹ˆë‹¤. â­ï¸
// - ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¡œ í•´ê²°ë˜ì§€ ì•ŠëŠ” ê²½ìš°
// - ì‚¬ìš©ìì™€ ìƒí˜¸ì‘ìš©í•˜ëŠ” ê²½ìš°
// - useEffect, useState, onClick, onChangeì™€ ê°™ì€ APIë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²½ìš°
// - useRouter, useParamsì™€ ê°™ì€ nextjsì˜ client component APIë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°

// í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” use client ë¥¼ ì„ ì–¸í•´ì£¼ì–´ì•¼ í•œë‹¤.(Next.jsì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©)
"use client";

import Link from "next/link";
import "./globals.css";
import type { Metadata } from "next";
import { useEffect, useState } from "react";
import axios from "axios";

// export const metadata: Metadatsa = {
//   title: "Web tutorial",
//   description: "Generated by Woohyun",
// };

interface ITopic {
  id: number;
  title: string;
  body: string;
}

// ê¸°ë³¸ì ì¸ ì›¹ í˜ì´ì§€ì˜ ê³¨ê²©
export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  const [topics, setTopics] = useState<ITopic[]>([]);

  const getTopics = async () => {
    const response = await axios.get("http://localhost:9999/topics");
    console.log(response.data);
    setTopics(response.data);
  };

  useEffect(() => {
    getTopics();
  }, []);
  return (
    <html>
      <body>
        <h1>
          <Link href="/">WEB</Link>
          {/* Link ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨
          1. í˜ì´ì§€ ë¦¬ë¡œë”©ì´ ì—†ì–´ì¡Œë‹¤. 
          2. ë°©ë¬¸í•œ í˜ì´ì§€ë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ì§€ ì•ŠëŠ”ë‹¤. 
          3. ë¯¸ë¦¬ í˜ì´ì§€ë¥¼ ë‹¤ìš´ë¡œë“œ í•œë‹¤.(ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ëŠ” ìˆœê°„ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ë‹¤ìš´ë¡œë“œ)  
          ğŸ‘‰ğŸ» ì¦‰, LinkëŠ” Next.jsì—ì„œ SPAë¥¼ ì‰½ê²Œ êµ¬í˜„í•˜ë„ë¡ ë„ì™€ì£¼ëŠ” ë„êµ¬ì´ë‹¤ !
          */}
        </h1>
        <ol>
          {topics.map((topic) => (
            <li key={topic.id}>
              <Link href={`/read/${topic.id}`}>{topic.title}</Link>
            </li>
          ))}
        </ol>
        {children}
        <ul>
          <li>
            <Link href="/create">create</Link>
          </li>
          <li>
            <Link href="/update/id">update</Link>
          </li>
          <li>
            <button>delete</button>
          </li>
        </ul>
      </body>
    </html>
  );
}
